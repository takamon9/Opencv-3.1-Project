How to create opencv cascade files.

exp.

Before create cascade,we create storage folder.
like below...
C:/cascade/pos
          /neg
          /vec
          /dat
          /cas
          
put positive iamge files to pos folder and negative image files to neg folder.

'info.dat' file need to be exist pos folder.
So,we create info.dat file using C++ code. 
compile and run 'Create "info.dat" file.cpp' file in my libraly.

created info.dat file written like below...

./pos/info.dat

1004.jpg  1  0 0 485 567
1005.jpg  1  0 0 657 574
1006.jpg  1  0 0 103 128
1008.jpg  1  0 0 271 365
1009.jpg  1  0 0 212 235

next,
we create ng.txt file in /neg folder.
like info.dat file,we use C++ code.
open 'RenameFiles.cpp' in my libraly.
run the program.

and we got a ng.txt file in /neg folder.
we should input 'neg/' in front of file name. 
like this...

./neg/ng.txt

neg/10004.jpg
neg/10005.jpg
neg/10007.jpg
neg/10008.jpg
neg/10009.jpg

finally, we save ng.txt file in utf-8, not in unicode.

In cascade folder, shift + right click to open command prompt.

input command like below line.

1.  create vector file 'positive.vec' in vec holder.

opencv_createsamples -info ./pos/info.dat -vec ./vec/positive.vec -num 750 -w 50 -h 25

2. train cascade and create cascade file 'cascade.xml' in cas holder.

opencv_traincascade -data ./cascade -vec ./vec/positive.vec -bg ./neg/ng.txt -numPos 750 -numNeg 1350 -featureType LBP -mode ALL -w 50 -h 25

3.put cascade file to your project holder.
